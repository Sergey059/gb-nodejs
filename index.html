<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8" />
  <title>Socket</title>
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>

<body>
  <input id="input" type="text" autofocus />
  <button id="button">Send</button>
  <div id="messages"></div>
  <script>
    const socket = io("localhost:3000");
    const messageBlock = document.querySelector("#messages");
    const input = document.querySelector("#input");
    const button = document.querySelector("#button");

    button.addEventListener("click", () => {
      const data = {
        message: input.value,
      };

      socket.emit("client-msg", data);
    });

    socket.on("connect", () => {
      console.log("connected");
      messageBlock.insertAdjacentHTML(
        "beforeend",
        `<div style="text-align:center;">You are in the chat!</div>`
      );
    });
    socket.on("server-msg", (message) => {
      messageBlock.insertAdjacentHTML("beforeend", `<div>${message}</div>`);
    });
  </script>
</body>

</html>